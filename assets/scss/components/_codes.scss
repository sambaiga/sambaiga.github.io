/*-- scss:components/codes --*/
// Styles for inline code elements ONLY
code:not(pre code) {
  background-color: $code-bg;
  color: $code-color;
  padding: $code-padding;
  border-radius: $code-border-radius;
  font-size: $code-font-size;
  font-family: $font-family-monospace;
  
  // Reset properties that might affect images
  max-width: none !important;
  overflow-x: auto;
  display: inline;
  vertical-align: baseline;
  line-height: $line-height-normal;
  white-space: nowrap;
}

// More specific selector to ensure we only target text code
// This prevents affecting any potential code blocks containing images
*:not(img) > code:not(pre code),
code:not(pre code):not(:has(img)) {
  // Apply the scrolling behavior only to actual code text
  -webkit-overflow-scrolling: touch;
}

// Responsive adjustments
@media (max-width: $breakpoint-md) {
  code:not(pre code) {
    font-size: $font-size-sm;
    padding: $spacer-1 $spacer-2;
    line-height: $line-height-snug;
  }
}

@media (max-width: $breakpoint-sm) {
  code:not(pre code) {
    font-size: $font-size-xs;
    padding: $spacer-1 $spacer-1;
    
    // Only apply word breaking to very long code snippets
    // This shouldn't affect images
    overflow-wrap: break-word;
    word-break: break-word;
  }
}

// Dark mode
[data-theme="dark"] {
  code:not(pre code) {
    background-color: var(--code-bg, $gray-800);
    color: var(--code-color, $gray-200);
    border: 1px solid rgba($white, $opacity-10);
  }
}

// Headings
h1, h2, h3, h4, h5, h6 {
  code:not(pre code) {
    @media (max-width: $breakpoint-md) {
      font-size: 0.85em;
    }
    @media (max-width: $breakpoint-sm) {
      font-size: 0.8em;
    }
  }
}